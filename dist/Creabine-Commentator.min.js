function CreabineCommentator(e){function t(){if(0==q){var e=v<2?v-2+N.length:v-2;N[e].style.left=N[e].offsetLeft+N.length*C+"px",s(N[v]),l(),v=v<N.length-1?++v:0,m(),a(N[v])}}function n(){if(0==q){var e=v<N.length-2?v+2:v+2-N.length;N[e].style.left=N[e].offsetLeft-N.length*C+"px",s(N[v]),o(),v=v>0?--v:N.length-1,m(),a(N[v])}}function l(){p(),D--;var e=0,t=setInterval(function(){C-e<R?g.style.left=g.offsetLeft-(C-e)+"px":g.style.left=g.offsetLeft-R+"px",e+=R,e>=C&&(clearInterval(t),h())},P)}function o(){p(),D++;var e=0,t=setInterval(function(){C-e<R?g.style.left=g.offsetLeft+(C-e)+"px":g.style.left=g.offsetLeft+R+"px",e+=R,e>=C&&(clearInterval(t),h())},P)}function s(e){p();var t=W,n=L-C,l=0,o=setInterval(function(){if(n-l<t){var s=n-l;e.style.width=C+"px",e.style.height=I+"px",e.style.left=e.offsetLeft+.5*s+"px",e.style.top=e.offsetTop+1+"px"}else e.style.width=e.offsetWidth-t+"px",e.style.height=e.offsetHeight-t*k+"px",e.style.left=e.offsetLeft+.5*t+"px",e.style.top=e.offsetTop+1+"px";if(l+=t,l>=n){clearInterval(o),e.style.zIndex=0,e.style.top=(E-I)/2+"px",e.style.opacity="0.4";for(var a=e.childNodes,i=0;i<a.length;i++)a[i].style.opacity="0";h()}},V)}function a(e){p(),e.style.zIndex=10;var t=W,n=L-C,l=0,o=setInterval(function(){if(n-l<t){var s=n-l;e.style.width=L+"px",e.style.height=b+"px",e.style.top=e.offsetTop-1+"px",e.style.left=e.offsetLeft-.5*s+"px"}else e.style.width=e.offsetWidth+t+"px",e.style.height=e.offsetHeight+t*k+"px",e.style.top=e.offsetTop-1+"px",e.style.left=e.offsetLeft-.5*t+"px";if(l+=t,l>=n){clearInterval(o),e.style.top="0px",e.style.opacity="1";for(var a=e.childNodes,i=0;i<a.length;i++)a[i].style.opacity="1";h()}},V)}function i(e){g.style.left=0,g.style.top=S/2+"px",D=0;for(var t=[],n=0;n<N.length;n++)e=e-N.length>=0?e-N.length:e,t[n]=e,e++;for(var n=0;n<N.length;n++)N[t[n]].style.zIndex=0,N[t[n]].style.top=(E-I)/2+"px",N.length-n<=2?N[t[n]].style.left=T-(N.length-n)*C+"px":N[t[n]].style.left=T+n*C+"px"}function r(e,t){c(e,t),y.style.width=w+"px",y.style.height=E+S+"px",g.style.height=E+"px";for(var n=0;n<N.length;n++)N[n].style.width=C+"px",N[n].style.height=I+"px"}function f(){if(y=document.getElementById(e.root),!y)throw"no exist called this name element,please create element called this name";y.className="creabinecarousel",g=document.createElement("div"),g.className="creabine-inner",y.appendChild(g),c(e.width,e.height),v=0;for(var l=0;l<z.length;l++){var o=document.createElement("div");o.className="creabine-item",g.appendChild(o)}N=y.getElementsByClassName("creabine-item");for(var l=0;l<N.length;l++){var s=document.createElement("p");if(s.className="creabine-comment",s.innerText=z[l].content,s.style.width=.8*L+"px",s.style.height=.3*b+"px",s.style.marginTop=.1*b+"px",s.style.marginBottom=.05*b+"px",N[l].appendChild(s),B){var a=document.createElement("img");a.className="creabine-logo",a.style.height=.3*b+"px",a.src=B[l],N[l].appendChild(a)}var i=document.createElement("p");i.className="creabine-commentator",i.innerText=z[l].commentator,i.style.height=.1*b+"px",i.style.marginTop=.05*b+"px",N[l].appendChild(i)}u=document.createElement("ul"),u.className="dot-box",y.appendChild(u);for(var l=0;l<N.length;l++){var r=document.createElement("li");u.appendChild(r)}x=u.querySelectorAll("li");for(var l=0;l<x.length;l++){var f=document.createElement("span");x[l].appendChild(f),function(e){x[l].addEventListener("mouseenter",function(){v!=e&&(e-v==1||e-v==-N.length+1?t():e-v==-1||e-v==N.length-1?n():(v=e,d()))})}(l)}if(F){var p=document.createElement("span");p.className="creabine-lefBtn",p.style.left=.05*w+"px";var h=document.createElement("span");h.className="creabine-rightBtn",h.style.right=.05*w+"px",p.style.top=h.style.top=(E+S-20)/2+"px",y.appendChild(p),y.appendChild(h),p.addEventListener("click",function(){n()}),h.addEventListener("click",function(){t()})}if(A){setInterval(function(){t()},j)}}function c(t,n){e.singleShow?(w=t||300,E=n||105,L=w,b=E,C=L*H,I=b*H,T=(L-C)/2):(w=t||400,E=n||100,C=E*H/k,I=E*H,L=C/H,b=I/H,T=(w-C)/2)}function p(){q++}function h(){q--,0==q&&(g.style.left=D*C+"px")}function m(){for(var e=0;e<x.length;e++)e==v?x[e].className="active":x[e].className=""}function d(){m(),r(e.width,e.height),i(v);for(var t=0;t<N.length;t++){N[t].style.opacity="0.4";for(var n=0;n<N[t].childNodes.length;n++)N[t].childNodes[n].style.opacity="0"}a(N[v])}if(!e.root)throw"require name to this commentator";if(!e.comments)throw"must provide parameter comments";if(e.comments.length<5)throw"require more than 4 pictures";if(e.logos&&e.comments.length!=e.logos.length)throw"comments are not equal to logos";var y,g,u,x,v,N,w,E,C,I,L,b,T,z=e.comments,B=e.logos,q=0,D=0,S=100,k=e.sizeRate||.35,H=e.scaleRate||10/13,P=e.moveDuration||12,R=e.movePerVal||30,V=e.scaleDuration||12,W=e.scalePerVal||6,A=e.autoScroll||!1,j=e.scrollDuration||5e3,F=e.btn||!1;this.resize=function(e,t){r(e,t)},this.next=function(){t()},this.previous=function(){n()},f(),d()}